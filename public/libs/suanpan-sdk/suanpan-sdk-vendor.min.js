/*! suanpan-sdk - 0.9.139 */
!function(n,g){"object"==typeof exports&&"object"==typeof module?module.exports=g():"function"==typeof define&&define.amd?define([],g):"object"==typeof exports?exports["suanpan-sdk"]=g():n["suanpan-sdk"]=g()}(window,(function(){return function(n){var g={};function I(e){if(g[e])return g[e].exports;var t=g[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,I),t.l=!0,t.exports}return I.m=n,I.c=g,I.d=function(n,g,e){I.o(n,g)||Object.defineProperty(n,g,{enumerable:!0,get:e})},I.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},I.t=function(n,g){if(1&g&&(n=I(n)),8&g)return n;if(4&g&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(I.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&g&&"string"!=typeof n)for(var t in n)I.d(e,t,function(g){return n[g]}.bind(null,t));return e},I.n=function(n){var g=n&&n.__esModule?function(){return n.default}:function(){return n};return I.d(g,"a",g),g},I.o=function(n,g){return Object.prototype.hasOwnProperty.call(n,g)},I.p="",I(I.s=17)}({17:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/socket/index.js\nfunction init(opts) {\n  var s = {};\n  var defaultOpts = {\n    url: \"/\",\n    onConnect: console.info,\n    onDisconnect: console.info\n  };\n  opts = Object.assign(defaultOpts, opts);\n  var socket = io(opts.url, opts);\n  socket.on(\"connect\", function () {\n    console.log('socket connected', socket.id);\n\n    if (opts.onConnect) {\n      opts.onConnect();\n    }\n  });\n  socket.on(\"disconnect\", function () {\n    console.log('socket disconnected');\n\n    if (opts.onDisconnect) {\n      opts.onDisconnect();\n    }\n  });\n\n  function subscribe(opts) {\n    var defaultOpts = {\n      eventName: \"call\"\n    };\n    opts = Object.assign(defaultOpts, opts);\n\n    if (!opts.callback) {\n      throw Error(\"Callback is not defined.\");\n    }\n\n    socket.on(opts.eventName, opts.callback);\n  }\n\n  function send(opts) {\n    var defaultOpts = {\n      eventName: \"call\"\n    };\n    opts = Object.assign(defaultOpts, opts);\n\n    if (!opts.data) {\n      throw Error(\"No data to be send.\");\n    }\n\n    socket.emit(opts.eventName, opts.data);\n  }\n\n  function sendFile(oss_path) {\n    var files = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (s.oss) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var filePromise = [];\n          var keys = [];\n\n          for (var curr = 0; curr < files.length; curr++) {\n            var key = oss_path + files[curr].name;\n            keys.push(key);\n            filePromise.push(s.oss.putObject(key, files[curr]));\n          }\n\n          Promise.all(filePromise).then(function (results) {\n            var failed = results.find(function (result) {\n              return result.success === false;\n            });\n\n            if (failed) {\n              reject(failed.msg);\n            } else {\n              send({\n                eventName: 'fileUpload',\n                data: keys\n              });\n              resolve(keys);\n            }\n          }, function (error) {\n            reject(error);\n          })[\"catch\"](function (err) {\n            reject(err);\n          });\n        } catch (err) {\n          reject(err);\n        }\n      });\n    }\n  }\n\n  function throttle(throttleOpts) {\n    var defaultThrottleOpts = {\n      argsMergeFunc: function argsMergeFunc(args) {\n        return args[args.length - 1];\n      }\n    };\n    throttleOpts = Object.assign(defaultThrottleOpts, throttleOpts);\n\n    if (!throttleOpts.timeout) {\n      return throttleOpts.func;\n    }\n\n    var throttleMapping = {};\n    return function (opts) {\n      var _this = this;\n\n      var defaultOpts = {\n        eventName: \"call\"\n      };\n      opts = Object.assign(defaultOpts, opts);\n\n      if (!opts.data) {\n        throw Error(\"No data to be send.\");\n      }\n\n      throttleMapping[opts.eventName] = throttleMapping[opts.eventName] || {\n        args: []\n      };\n      throttleMapping[opts.eventName].args.push(opts);\n\n      if (throttleMapping[opts.eventName].timer) {\n        clearTimeout(throttleMapping[opts.eventName].timer);\n      }\n\n      return new Promise(function (resolve, reject) {\n        throttleMapping[opts.eventName].timer = setTimeout(function () {\n          try {\n            var mergedOpts = throttleOpts.argsMergeFunc(throttleMapping[opts.eventName].args);\n            var result = throttleOpts.func.call(_this, mergedOpts);\n            resolve(result);\n          } catch (err) {\n            reject(err);\n          } finally {\n            throttleMapping[opts.eventName].args = [];\n          }\n        }, throttleOpts.timeout);\n      });\n    };\n  }\n\n  s = {\n    subscribe: subscribe,\n    send: send,\n    sendFile: sendFile,\n    throttle: throttle,\n    defaultThrottleSend: throttle({\n      func: send,\n      timeout: 1000\n    })\n  };\n  return s;\n}\n// CONCATENATED MODULE: ./node_modules/whatwg-fetch/fetch.js\nvar support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n\n// CONCATENATED MODULE: ./src/oss/remoteService.js\n\nvar remoteService_s = {};\n\nvar wrapUrl = function wrapUrl(url) {\n  return url;\n};\n\nvar processResponse = function processResponse(response, type) {\n  switch (type) {\n    case 'arrayBuffer':\n      return response.arrayBuffer();\n\n    case 'blob':\n      return response.blob();\n\n    case 'json':\n      return response.json();\n  }\n\n  return response.text();\n};\n\nremoteService_s.get = function (url, responseType) {\n  return new Promise(function (resolve, reject) {\n    fetch(url).then(function (response) {\n      return processResponse(response, responseType);\n    }).then(function (result) {\n      resolve(result);\n    })[\"catch\"](function (ex) {\n      reject(ex);\n    });\n  });\n};\n\nremoteService_s.post = function (url, data, contentType, responseType) {\n  return new Promise(function (resolve, reject) {\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': contentType || 'application/octet-stream;'\n      },\n      body: JSON.stringify(data)\n    }).then(function (response) {\n      return processResponse(response, responseType);\n    }).then(function (result) {\n      resolve(result);\n    })[\"catch\"](function (ex) {\n      reject(ex);\n    });\n  });\n};\n\nremoteService_s.head = function (url, responseType) {\n  return new Promise(function (resolve, reject) {\n    fetch(url, {\n      method: 'HEAD'\n    }).then(function (response) {\n      return processResponse(response, responseType);\n    }).then(function (result) {\n      resolve(result);\n    })[\"catch\"](function (ex) {\n      reject(ex);\n    });\n  });\n};\n\nremoteService_s[\"delete\"] = function (url, responseType) {\n  return new Promise(function (resolve, reject) {\n    fetch(url, {\n      method: 'DELETE'\n    }).then(function (response) {\n      return processResponse(response, responseType);\n    }).then(function (result) {\n      resolve(result);\n    })[\"catch\"](function (ex) {\n      reject(ex);\n    });\n  });\n};\n\nremoteService_s.put = function (url, data, contentType, responseType) {\n  return new Promise(function (resolve, reject) {\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': contentType || \"application/octet-stream;\"\n      },\n      body: data,\n      transformRequest: []\n    }).then(function (response) {\n      return processResponse(response, responseType);\n    }).then(function (result) {\n      resolve(result);\n    })[\"catch\"](function (ex) {\n      reject(ex);\n    });\n  });\n};\n\n/* harmony default export */ var remoteService = (remoteService_s);\n// CONCATENATED MODULE: ./src/oss/ossService.js\n\n/**\n * @return {string}\n */\n\nvar Utf8ArrayToStr = function Utf8ArrayToStr(array) {\n  var out, i, len, c;\n  var char2, char3;\n  out = \"\";\n  len = array.length;\n  i = 0;\n\n  while (i < len) {\n    c = array[i++];\n\n    switch (c >> 4) {\n      case 0:\n      case 1:\n      case 2:\n      case 3:\n      case 4:\n      case 5:\n      case 6:\n      case 7:\n        // 0xxxxxxx\n        out += String.fromCharCode(c);\n        break;\n\n      case 12:\n      case 13:\n        // 110x xxxx   10xx xxxx\n        char2 = array[i++];\n        out += String.fromCharCode((c & 0x1F) << 6 | char2 & 0x3F);\n        break;\n\n      case 14:\n        // 1110 xxxx  10xx xxxx  10xx xxxx\n        char2 = array[i++];\n        char3 = array[i++];\n        out += String.fromCharCode((c & 0x0F) << 12 | (char2 & 0x3F) << 6 | (char3 & 0x3F) << 0);\n        break;\n    }\n  }\n\n  return out;\n};\n/*\n* options = {\n*   type: '',\n*   tokenPath: '',\n*   region: '',\n*   bucket: ''\n* }\n*\n* */\n\n\nfunction ossService_init(options) {\n  var _stsToken = '';\n\n  var _oss;\n\n  var loading = false;\n  var deferredList = [];\n  options.tokenServer = options.tokenServer || '';\n  options.tokenPath = options.tokenPath || '/oss/token';\n\n  var getStsToken = function getStsToken() {\n    return new Promise(function (resolve, reject) {\n      if (_stsToken && _stsToken.Credentials && _stsToken.Credentials.Expiration && new Date(_stsToken.Credentials.Expiration).getTime() - new Date().getTime() > 1800000) {\n        resolve({\n          token: _stsToken,\n          refresh: false\n        });\n      } else {\n        if (loading) {\n          deferredList.push({\n            resolve: resolve,\n            reject: reject\n          });\n        } else {\n          loading = true;\n          console.info('sts token timeout, refresh');\n          remoteService.get(options.tokenServer + options.tokenPath, 'json').then(function (token) {\n            _stsToken = token;\n            resolve({\n              token: token,\n              refresh: true\n            });\n\n            while (deferredList.length) {\n              var d = deferredList.pop();\n              d.resolve({\n                token: token,\n                refresh: true\n              });\n            }\n          })[\"catch\"](function (e) {\n            reject(e);\n\n            while (deferredList.length) {\n              var d = deferredList.pop();\n              d.reject(err);\n            }\n          })[\"finally\"](function () {\n            loading = false;\n          });\n        }\n      }\n    });\n  };\n\n  var getOss = function getOss() {\n    return new Promise(function (resolve, reject) {\n      getStsToken().then(function (result) {\n        var token = result.token;\n        console.log('token: ', token);\n\n        if (!_oss || result.refresh) {\n          _oss = new window.OSS({\n            region: token.region,\n            accessKeyId: token.Credentials.AccessKeyId,\n            accessKeySecret: token.Credentials.AccessKeySecret,\n            stsToken: token.Credentials.SecurityToken,\n            bucket: token.bucket\n          });\n          resolve(_oss);\n        } else {\n          resolve(_oss);\n        }\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var upload = function upload(file, key, progress, error, complete) {\n    return new Promise(function (resolve, reject) {\n      getOss().then(function (oss) {\n        var options = {\n          progress: progress,\n          partSize: 500 * 1024,\n          timeout: 60000\n        };\n        oss.multipartUpload(key, file, options).then(function (res) {\n          console.log('upload success: %j', res);\n          complete(res); // currentCheckpoint = null;\n          // uploadFileClient = null;\n        })[\"catch\"](function (err) {\n          if (oss.isCancel()) {\n            console.log('stop-upload!');\n          } else {\n            console.error(err);\n            console.log(\"err.name : \".concat(err.name));\n            console.log(\"err.message : \".concat(err.message));\n\n            if (err.name.toLowerCase().indexOf('connectiontimeout') !== -1) {\n              // timeout retry\n              console.log('connectiontimeout'); // if (retryCount < retryCountMax) {\n              //   retryCount++;\n              //   console.error(`retryCount : ${retryCount}`);\n              //   upload('');\n              // }\n            }\n          }\n        });\n        resolve();\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var getObject = function getObject(key, isBinary) {\n    return new Promise(function (resolve, reject) {\n      getOss().then(function (oss) {\n        oss.get(key).then(function (res) {\n          if (isBinary) {\n            return resolve(res.content);\n          }\n\n          resolve(Utf8ArrayToStr(res.content));\n        })[\"catch\"](function (err) {\n          reject(err);\n        });\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var deleteObject = function deleteObject(key) {\n    return new Promise(function (resolve, reject) {\n      getOss().then(function (oss) {\n        oss[\"delete\"](key).then(function (res) {\n          resolve(res);\n        }, function (err) {\n          reject(err);\n        });\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var listObject = function listObject(key) {\n    return new Promise(function (resolve, reject) {\n      getOss().then(function (oss) {\n        oss.list({\n          'prefix': key,\n          'max-keys': 1000\n        }).then(function (result) {\n          resolve(result);\n        });\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var getSignedUrl = function getSignedUrl(key) {\n    return new Promise(function (resolve, reject) {\n      getOss().then(function (oss) {\n        resolve(oss.signatureUrl(key, {\n          expires: 3600\n        }));\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var putObject = function putObject(key, data) {\n    return new Promise(function (resolve, reject) {\n      getOss().then(function (oss) {\n        oss.put(key, data).then(function (result) {\n          resolve(result);\n        })[\"catch\"](function (e) {\n          reject(e);\n        });\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var getObject2 = function getObject2(key, isBinary) {\n    return new Promise(function (resolve, reject) {\n      remoteService.post(options.tokenServer + '/oss/object/get', {\n        Key: key\n      }, 'application/json', 'json').then(function (res) {\n        remoteService.get(res.data, isBinary ? 'arrayBuffer' : 'text').then(function (r) {\n          if (isBinary) {\n            resolve(new Uint8Array(r));\n            return;\n          }\n\n          resolve(r);\n        }, function (err) {\n          reject(err);\n        });\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var deleteObject2 = function deleteObject2(key) {\n    return new Promise(function (resolve, reject) {\n      remoteService.post(options.tokenServer + '/oss/object/delete', {\n        Key: key\n      }, 'application/json', 'json').then(function (res) {\n        remoteService[\"delete\"](res.data, 'text').then(function (r) {\n          resolve(r);\n        }, function (err) {\n          reject(err);\n        });\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var listObject2 = function listObject2(key) {\n    return new Promise(function (resolve, reject) {\n      remoteService.post(options.tokenServer + '/oss/object/list', {\n        Key: key\n      }, 'application/json', 'json').then(function (res) {\n        resolve(res.data);\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var headObject2 = function headObject2(key) {\n    return new Promise(function (resolve, reject) {\n      remoteService.post(options.tokenServer + '/oss/object/head', {\n        Key: key\n      }, 'application/json', 'json').then(function (res) {\n        res.NextAppendPosition = res.ContentLength;\n        resolve(res);\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var getSignedUrl2 = function getSignedUrl2(key, isBinary) {\n    return new Promise(function (resolve, reject) {\n      remoteService.post(options.tokenServer + '/oss/object/get', {\n        Key: key\n      }, 'application/json', 'json').then(function (res) {\n        resolve(res.data);\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var putObject2 = function putObject2(key, body) {\n    return new Promise(function (resolve, reject) {\n      remoteService.post(options.tokenServer + '/oss/object/put', {\n        Key: key,\n        Expires: 0,\n        CacheControl: 'no-cache, must-revalidate'\n      }, 'application/json', 'json').then(function (res) {\n        if (!res.success) {\n          reject(res);\n          return;\n        }\n\n        if (res.data) {\n          remoteService.put(res.data, body).then(function (res) {\n            resolve(res);\n          }, function (err) {\n            reject(err);\n          });\n        }\n      }, function (err) {\n        reject(err);\n      })[\"catch\"](function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var upload2 = function upload2(file, key, onprogress, onerror, oncomplete) {\n    return new Promise(function (resolve, reject) {\n      remoteService.post(options.tokenServer + '/oss/object/put', {\n        Key: key\n      }, 'application/json', 'json').then(function (res) {\n        var xhr = new XMLHttpRequest();\n\n        xhr.onload = function () {\n          if (xhr.status === 200) {\n            oncomplete();\n          } else {\n            onerror(xhr.statusText);\n          }\n        };\n\n        xhr.onprogress = function (evt) {\n          onprogress(evt);\n        };\n\n        xhr.open('PUT', res.data, true);\n        xhr.send(file);\n        resolve(res);\n      }, function (err) {\n        reject(err);\n      });\n    });\n  };\n\n  var s = {\n    getOss: getOss,\n    upload: upload,\n    getObject: getObject,\n    putObject: putObject,\n    deleteObject: deleteObject,\n    listObject: listObject2,\n    getSignedUrl: getSignedUrl\n  };\n\n  if (options.type !== 'oss') {\n    s.getObject = getObject2;\n    s.putObject = putObject2;\n    s.headObject = headObject2;\n    s.upload = upload2;\n    s.deleteObject = deleteObject2;\n    s.listObject = listObject2;\n    s.getSignedUrl = getSignedUrl2;\n  }\n\n  return s;\n}\n;\n// CONCATENATED MODULE: ./src/index.js\n\n\n/*\nopts = {\n  url: '',\n  path: '/ui',\n  dashboardPlugins: true|false,\n  onConnect: function(a, b) {\n    console.log(a,b,\"======2222=====\")\n  },\n  onDisconnect:function(a, b) {\n    console.log(a,b,\"=====111======\")\n  },\n  oss: {\n    type: 'oss|minio',\n    tokenPath: '/oss/token',\n  }\n}\n*/\n\nwindow.sp = function (opts) {\n  var s = {};\n\n  if (opts.path) {\n    s = init(opts);\n  }\n\n  if (opts.oss) {\n    s.oss = ossService_init(opts.oss);\n  }\n\n  return s;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdWFucGFuLXNkay8uL3NyYy9zb2NrZXQvaW5kZXguanM/MGQwMyIsIndlYnBhY2s6Ly9zdWFucGFuLXNkay8uL25vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanM/NmQ5MyIsIndlYnBhY2s6Ly9zdWFucGFuLXNkay8uL3NyYy9vc3MvcmVtb3RlU2VydmljZS5qcz8yMDA2Iiwid2VicGFjazovL3N1YW5wYW4tc2RrLy4vc3JjL29zcy9vc3NTZXJ2aWNlLmpzP2I5OWEiLCJ3ZWJwYWNrOi8vc3VhbnBhbi1zZGsvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0KG9wdHMpIHtcbiAgbGV0IHMgPSB7fTtcblxuICBsZXQgZGVmYXVsdE9wdHMgPSB7XG4gICAgdXJsOiBcIi9cIixcbiAgICBvbkNvbm5lY3Q6IGNvbnNvbGUuaW5mbyxcbiAgICBvbkRpc2Nvbm5lY3Q6IGNvbnNvbGUuaW5mb1xuICB9O1xuICBvcHRzID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0cywgb3B0cyk7XG5cbiAgbGV0IHNvY2tldCA9IGlvKG9wdHMudXJsLCBvcHRzKTtcbiAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3NvY2tldCBjb25uZWN0ZWQnLCBzb2NrZXQuaWQpO1xuICAgIGlmIChvcHRzLm9uQ29ubmVjdCkge1xuICAgICAgb3B0cy5vbkNvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuICBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnc29ja2V0IGRpc2Nvbm5lY3RlZCcpO1xuICAgIGlmIChvcHRzLm9uRGlzY29ubmVjdCkge1xuICAgICAgb3B0cy5vbkRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShvcHRzKSB7XG4gICAgbGV0IGRlZmF1bHRPcHRzID0ge1xuICAgICAgZXZlbnROYW1lOiBcImNhbGxcIlxuICAgIH07XG4gICAgb3B0cyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdHMsIG9wdHMpO1xuICAgIGlmICghb3B0cy5jYWxsYmFjaykge1xuICAgICAgdGhyb3cgRXJyb3IoXCJDYWxsYmFjayBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgc29ja2V0Lm9uKG9wdHMuZXZlbnROYW1lLCBvcHRzLmNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbmQob3B0cykge1xuICAgIGxldCBkZWZhdWx0T3B0cyA9IHtcbiAgICAgIGV2ZW50TmFtZTogXCJjYWxsXCJcbiAgICB9O1xuICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRzLCBvcHRzKTtcbiAgICBpZiAoIW9wdHMuZGF0YSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJObyBkYXRhIHRvIGJlIHNlbmQuXCIpO1xuICAgIH1cblxuICAgIHNvY2tldC5lbWl0KG9wdHMuZXZlbnROYW1lLCBvcHRzLmRhdGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VuZEZpbGUob3NzX3BhdGgsIGZpbGVzID0gW10pIHtcbiAgICBpZiAocy5vc3MpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZmlsZVByb21pc2UgPSBbXTtcbiAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgZm9yIChsZXQgY3VyciA9IDA7IGN1cnIgPCBmaWxlcy5sZW5ndGg7IGN1cnIrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gb3NzX3BhdGggKyBmaWxlc1tjdXJyXS5uYW1lO1xuICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICBmaWxlUHJvbWlzZS5wdXNoKHMub3NzLnB1dE9iamVjdChrZXksIGZpbGVzW2N1cnJdKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgUHJvbWlzZS5hbGwoZmlsZVByb21pc2UpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZhaWxlZCA9IHJlc3VsdHMuZmluZChyZXN1bHQgPT4gcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGZhaWxlZC5tc2cpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VuZCh7IGV2ZW50TmFtZTogJ2ZpbGVVcGxvYWQnLCBkYXRhOiBrZXlzIH0pO1xuICAgICAgICAgICAgICByZXNvbHZlKGtleXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGhyb3R0bGUodGhyb3R0bGVPcHRzKSB7XG4gICAgbGV0IGRlZmF1bHRUaHJvdHRsZU9wdHMgPSB7XG4gICAgICBhcmdzTWVyZ2VGdW5jOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhyb3R0bGVPcHRzID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0VGhyb3R0bGVPcHRzLCB0aHJvdHRsZU9wdHMpO1xuXG4gICAgaWYgKCF0aHJvdHRsZU9wdHMudGltZW91dCkge1xuICAgICAgcmV0dXJuIHRocm90dGxlT3B0cy5mdW5jO1xuICAgIH1cblxuICAgIGxldCB0aHJvdHRsZU1hcHBpbmcgPSB7fTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAob3B0cykge1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIGxldCBkZWZhdWx0T3B0cyA9IHtcbiAgICAgICAgZXZlbnROYW1lOiBcImNhbGxcIlxuICAgICAgfTtcbiAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRzLCBvcHRzKTtcbiAgICAgIGlmICghb3B0cy5kYXRhKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiTm8gZGF0YSB0byBiZSBzZW5kLlwiKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3R0bGVNYXBwaW5nW29wdHMuZXZlbnROYW1lXSA9IHRocm90dGxlTWFwcGluZ1tvcHRzLmV2ZW50TmFtZV0gfHwge1xuICAgICAgICBhcmdzOiBbXVxuICAgICAgfTtcbiAgICAgIHRocm90dGxlTWFwcGluZ1tvcHRzLmV2ZW50TmFtZV0uYXJncy5wdXNoKG9wdHMpO1xuICAgICAgaWYgKHRocm90dGxlTWFwcGluZ1tvcHRzLmV2ZW50TmFtZV0udGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRocm90dGxlTWFwcGluZ1tvcHRzLmV2ZW50TmFtZV0udGltZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdGhyb3R0bGVNYXBwaW5nW29wdHMuZXZlbnROYW1lXS50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgbWVyZ2VkT3B0cyA9IHRocm90dGxlT3B0cy5hcmdzTWVyZ2VGdW5jKFxuICAgICAgICAgICAgICB0aHJvdHRsZU1hcHBpbmdbb3B0cy5ldmVudE5hbWVdLmFyZ3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhyb3R0bGVPcHRzLmZ1bmMuY2FsbChfdGhpcywgbWVyZ2VkT3B0cyk7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhyb3R0bGVNYXBwaW5nW29wdHMuZXZlbnROYW1lXS5hcmdzID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aHJvdHRsZU9wdHMudGltZW91dCk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgcyA9IHtcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICBzZW5kOiBzZW5kLFxuICAgIHNlbmRGaWxlOiBzZW5kRmlsZSxcbiAgICB0aHJvdHRsZTogdGhyb3R0bGUsXG4gICAgZGVmYXVsdFRocm90dGxlU2VuZDogdGhyb3R0bGUoeyBmdW5jOiBzZW5kLCB0aW1lb3V0OiAxMDAwIH0pXG4gIH07XG5cbiAgcmV0dXJuIHM7XG59XG4iLCJ2YXIgc3VwcG9ydCA9IHtcbiAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgYmxvYjpcbiAgICAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJlxuICAgICdCbG9iJyBpbiBzZWxmICYmXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG59XG5cbmZ1bmN0aW9uIGlzRGF0YVZpZXcob2JqKSB7XG4gIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxufVxuXG5pZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICB2YXIgdmlld0NsYXNzZXMgPSBbXG4gICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcbiAgXVxuXG4gIHZhciBpc0FycmF5QnVmZmVyVmlldyA9XG4gICAgQXJyYXlCdWZmZXIuaXNWaWV3IHx8XG4gICAgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICB9XG4gIGlmICgvW15hLXowLTlcXC0jJCUmJyorLl5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gIH1cbiAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICB9XG4gIHJldHVybiB2YWx1ZVxufVxuXG4vLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgdmFyIGl0ZXJhdG9yID0ge1xuICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXRlcmF0b3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICB0aGlzLm1hcCA9IHt9XG5cbiAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICB9LCB0aGlzKVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICB9LCB0aGlzKVxuICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgfSwgdGhpcylcbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUgKyAnLCAnICsgdmFsdWUgOiB2YWx1ZVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICB9XG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICBpdGVtcy5wdXNoKG5hbWUpXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIGl0ZW1zLnB1c2godmFsdWUpXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbn1cblxuZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgfVxuICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgfVxuICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgfVxuICByZXR1cm4gY2hhcnMuam9pbignJylcbn1cblxuZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gIGlmIChidWYuc2xpY2UpIHtcbiAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gIH0gZWxzZSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICB9XG59XG5cbmZ1bmN0aW9uIEJvZHkoKSB7XG4gIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgIGlmICghYm9keSkge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChib2R5KVxuICAgIH1cblxuICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICB9XG4gIH1cblxuICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG52YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG5mdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgcmV0dXJuIG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xID8gdXBjYXNlZCA6IG1ldGhvZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgfVxuICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgIHRoaXMuc2lnbmFsID0gaW5wdXQuc2lnbmFsXG4gICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gIH1cblxuICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbidcbiAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB9XG4gIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgdGhpcy5zaWduYWwgPSBvcHRpb25zLnNpZ25hbCB8fCB0aGlzLnNpZ25hbFxuICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gIH1cbiAgdGhpcy5faW5pdEJvZHkoYm9keSlcbn1cblxuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHtib2R5OiB0aGlzLl9ib2R5SW5pdH0pXG59XG5cbmZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgYm9keVxuICAgIC50cmltKClcbiAgICAuc3BsaXQoJyYnKVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICByZXR1cm4gZm9ybVxufVxuXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzIzMCNzZWN0aW9uLTMuMlxuICB2YXIgcHJlUHJvY2Vzc2VkSGVhZGVycyA9IHJhd0hlYWRlcnMucmVwbGFjZSgvXFxyP1xcbltcXHQgXSsvZywgJyAnKVxuICBwcmVQcm9jZXNzZWRIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgaWYgKGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9XG4gIH0pXG4gIHJldHVybiBoZWFkZXJzXG59XG5cbkJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuZXhwb3J0IGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fVxuICB9XG5cbiAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXMgPT09IHVuZGVmaW5lZCA/IDIwMCA6IG9wdGlvbnMuc3RhdHVzXG4gIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbn1cblxuQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgIHVybDogdGhpcy51cmxcbiAgfSlcbn1cblxuUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgcmV0dXJuIHJlc3BvbnNlXG59XG5cbnZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG5SZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gIH1cblxuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbn1cblxuZXhwb3J0IHZhciBET01FeGNlcHRpb24gPSBzZWxmLkRPTUV4Y2VwdGlvblxudHJ5IHtcbiAgbmV3IERPTUV4Y2VwdGlvbigpXG59IGNhdGNoIChlcnIpIHtcbiAgRE9NRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSwgbmFtZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2VcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdmFyIGVycm9yID0gRXJyb3IobWVzc2FnZSlcbiAgICB0aGlzLnN0YWNrID0gZXJyb3Iuc3RhY2tcbiAgfVxuICBET01FeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpXG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBET01FeGNlcHRpb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoKGlucHV0LCBpbml0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsICYmIHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICBmdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICAgIHhoci5hYm9ydCgpXG4gICAgfVxuXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICB9XG4gICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgfVxuXG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgfVxuXG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICB9XG5cbiAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKVxuICAgIH1cblxuICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblxuICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgfSBlbHNlIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnb21pdCcpIHtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgfVxuXG4gICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgIH0pXG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwpIHtcbiAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG5cbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRE9ORSAoc3VjY2VzcyBvciBmYWlsdXJlKVxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgfSlcbn1cblxuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG5cbmlmICghc2VsZi5mZXRjaCkge1xuICBzZWxmLmZldGNoID0gZmV0Y2hcbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxufVxuIiwiaW1wb3J0IHtmZXRjaH0gZnJvbSAnd2hhdHdnLWZldGNoJ1xuXG5sZXQgcyA9IHt9O1xuXG5sZXQgd3JhcFVybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgcmV0dXJuIHVybDtcbn07XG5cbmxldCBwcm9jZXNzUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UsIHR5cGUpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYXJyYXlCdWZmZXInOlxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgY2FzZSAnYmxvYic6XG4gICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgIGNhc2UgJ2pzb24nOlxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xufTtcblxucy5nZXQgPSBmdW5jdGlvbiAodXJsLCByZXNwb25zZVR5cGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmZXRjaCh1cmwpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiBwcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UsIHJlc3BvbnNlVHlwZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChleCkge1xuICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgIH0pXG4gIH0pO1xufTtcblxucy5wb3N0ID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgY29udGVudFR5cGUsIHJlc3BvbnNlVHlwZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiBjb250ZW50VHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtOydcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiBwcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UsIHJlc3BvbnNlVHlwZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChleCkge1xuICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgIH0pXG4gIH0pO1xufTtcblxucy5oZWFkID0gZnVuY3Rpb24gKHVybCwgcmVzcG9uc2VUeXBlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdIRUFEJ1xuICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiBwcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UsIHJlc3BvbnNlVHlwZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChleCkge1xuICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgIH0pXG4gIH0pO1xufTtcblxucy5kZWxldGUgPSBmdW5jdGlvbiAodXJsLCByZXNwb25zZVR5cGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICByZXR1cm4gcHJvY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlLCByZXNwb25zZVR5cGUpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXgpIHtcbiAgICAgICAgICByZWplY3QoZXgpO1xuICAgICAgICB9KVxuICB9KTtcbn07XG5cbnMucHV0ID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgY29udGVudFR5cGUsIHJlc3BvbnNlVHlwZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGNvbnRlbnRUeXBlIHx8IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO1wiXG4gICAgICB9LFxuICAgICAgYm9keTogZGF0YSxcbiAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtdXG4gICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIHByb2Nlc3NSZXNwb25zZShyZXNwb25zZSwgcmVzcG9uc2VUeXBlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGV4KSB7XG4gICAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgICAgfSlcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzO1xuXG4iLCJpbXBvcnQgcmVtb3RlU2VydmljZSBmcm9tICcuL3JlbW90ZVNlcnZpY2UnO1xuXG4vKipcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xubGV0IFV0ZjhBcnJheVRvU3RyID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gIGxldCBvdXQsIGksIGxlbiwgYztcbiAgbGV0IGNoYXIyLCBjaGFyMztcblxuICBvdXQgPSBcIlwiO1xuICBsZW4gPSBhcnJheS5sZW5ndGg7XG4gIGkgPSAwO1xuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIGMgPSBhcnJheVtpKytdO1xuICAgIHN3aXRjaCAoYyA+PiA0KSB7XG4gICAgICBjYXNlIDA6IGNhc2UgMTogY2FzZSAyOiBjYXNlIDM6IGNhc2UgNDogY2FzZSA1OiBjYXNlIDY6IGNhc2UgNzpcbiAgICAgICAgLy8gMHh4eHh4eHhcbiAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxMjogY2FzZSAxMzpcbiAgICAgICAgLy8gMTEweCB4eHh4ICAgMTB4eCB4eHh4XG4gICAgICAgIGNoYXIyID0gYXJyYXlbaSsrXTtcbiAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMHgxRikgPDwgNikgfCAoY2hhcjIgJiAweDNGKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxNDpcbiAgICAgICAgLy8gMTExMCB4eHh4ICAxMHh4IHh4eHggIDEweHggeHh4eFxuICAgICAgICBjaGFyMiA9IGFycmF5W2krK107XG4gICAgICAgIGNoYXIzID0gYXJyYXlbaSsrXTtcbiAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMHgwRikgPDwgMTIpIHxcbiAgICAgICAgICAgICgoY2hhcjIgJiAweDNGKSA8PCA2KSB8XG4gICAgICAgICAgICAoKGNoYXIzICYgMHgzRikgPDwgMCkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuXG4vKlxuKiBvcHRpb25zID0ge1xuKiAgIHR5cGU6ICcnLFxuKiAgIHRva2VuUGF0aDogJycsXG4qICAgcmVnaW9uOiAnJyxcbiogICBidWNrZXQ6ICcnXG4qIH1cbipcbiogKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXQob3B0aW9ucykge1xuICBsZXQgX3N0c1Rva2VuID0gJyc7XG4gIGxldCBfb3NzO1xuICB2YXIgbG9hZGluZyA9IGZhbHNlO1xuICB2YXIgZGVmZXJyZWRMaXN0ID0gW107XG5cbiAgb3B0aW9ucy50b2tlblNlcnZlciA9IG9wdGlvbnMudG9rZW5TZXJ2ZXIgfHwgJyc7XG4gIG9wdGlvbnMudG9rZW5QYXRoID0gb3B0aW9ucy50b2tlblBhdGggfHwgJy9vc3MvdG9rZW4nO1xuXG4gIGxldCBnZXRTdHNUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKF9zdHNUb2tlblxuICAgICAgICAgICYmIF9zdHNUb2tlbi5DcmVkZW50aWFsc1xuICAgICAgICAgICYmIF9zdHNUb2tlbi5DcmVkZW50aWFscy5FeHBpcmF0aW9uXG4gICAgICAgICAgJiYgKG5ldyBEYXRlKF9zdHNUb2tlbi5DcmVkZW50aWFscy5FeHBpcmF0aW9uKS5nZXRUaW1lKCkgLSAobmV3IERhdGUoKSkuZ2V0VGltZSgpID4gMTgwMDAwMCkpIHtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgdG9rZW46IF9zdHNUb2tlbixcbiAgICAgICAgICByZWZyZXNoOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAobG9hZGluZykge1xuICAgICAgICAgIGRlZmVycmVkTGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUuaW5mbygnc3RzIHRva2VuIHRpbWVvdXQsIHJlZnJlc2gnKTtcbiAgICAgICAgICByZW1vdGVTZXJ2aWNlLmdldChvcHRpb25zLnRva2VuU2VydmVyICsgb3B0aW9ucy50b2tlblBhdGgsICdqc29uJylcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgX3N0c1Rva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgICByZWZyZXNoOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgd2hpbGUoZGVmZXJyZWRMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGQgPSBkZWZlcnJlZExpc3QucG9wKCk7XG4gICAgICAgICAgICAgICAgICBkLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2g6IHRydWVcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIHdoaWxlKGRlZmVycmVkTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBkID0gZGVmZXJyZWRMaXN0LnBvcCgpO1xuICAgICAgICAgICAgICAgICAgZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IGdldE9zcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZ2V0U3RzVG9rZW4oKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgbGV0IHRva2VuID0gcmVzdWx0LnRva2VuO1xuICAgICAgICBjb25zb2xlLmxvZygndG9rZW46ICcsIHRva2VuKVxuICAgICAgICBpZiAoIV9vc3MgfHwgcmVzdWx0LnJlZnJlc2gpIHtcbiAgICAgICAgICBfb3NzID0gbmV3IHdpbmRvdy5PU1Moe1xuICAgICAgICAgICAgcmVnaW9uOiB0b2tlbi5yZWdpb24sXG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogdG9rZW4uQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQsXG4gICAgICAgICAgICBhY2Nlc3NLZXlTZWNyZXQ6IHRva2VuLkNyZWRlbnRpYWxzLkFjY2Vzc0tleVNlY3JldCxcbiAgICAgICAgICAgIHN0c1Rva2VuOiB0b2tlbi5DcmVkZW50aWFscy5TZWN1cml0eVRva2VuLFxuICAgICAgICAgICAgYnVja2V0OiB0b2tlbi5idWNrZXRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJlc29sdmUoX29zcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShfb3NzKTtcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGxldCB1cGxvYWQgPSBmdW5jdGlvbiAoZmlsZSwga2V5LCBwcm9ncmVzcywgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGdldE9zcygpLnRoZW4oZnVuY3Rpb24gKG9zcykge1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgICBwYXJ0U2l6ZTogNTAwICogMTAyNCxcbiAgICAgICAgICB0aW1lb3V0OiA2MDAwMFxuICAgICAgICB9O1xuICAgICAgICBvc3MubXVsdGlwYXJ0VXBsb2FkKGtleSwgZmlsZSwgb3B0aW9ucykudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3VwbG9hZCBzdWNjZXNzOiAlaicsIHJlcyk7XG4gICAgICAgICAgY29tcGxldGUocmVzKVxuICAgICAgICAgIC8vIGN1cnJlbnRDaGVja3BvaW50ID0gbnVsbDtcbiAgICAgICAgICAvLyB1cGxvYWRGaWxlQ2xpZW50ID0gbnVsbDtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGlmIChvc3MuaXNDYW5jZWwoKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0b3AtdXBsb2FkIScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBlcnIubmFtZSA6ICR7ZXJyLm5hbWV9YCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgZXJyLm1lc3NhZ2UgOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgaWYgKGVyci5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY29ubmVjdGlvbnRpbWVvdXQnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgLy8gdGltZW91dCByZXRyeVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY29ubmVjdGlvbnRpbWVvdXQnKVxuICAgICAgICAgICAgICAvLyBpZiAocmV0cnlDb3VudCA8IHJldHJ5Q291bnRNYXgpIHtcbiAgICAgICAgICAgICAgLy8gICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgICAgIC8vICAgY29uc29sZS5lcnJvcihgcmV0cnlDb3VudCA6ICR7cmV0cnlDb3VudH1gKTtcbiAgICAgICAgICAgICAgLy8gICB1cGxvYWQoJycpO1xuICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGxldCBnZXRPYmplY3QgPSBmdW5jdGlvbiAoa2V5LCBpc0JpbmFyeSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBnZXRPc3MoKS50aGVuKGZ1bmN0aW9uIChvc3MpIHtcbiAgICAgICAgb3NzLmdldChrZXkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgIGlmIChpc0JpbmFyeSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzLmNvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKFV0ZjhBcnJheVRvU3RyKHJlcy5jb250ZW50KSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSlcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBsZXQgZGVsZXRlT2JqZWN0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBnZXRPc3MoKS50aGVuKGZ1bmN0aW9uIChvc3MpIHtcbiAgICAgICAgb3NzLmRlbGV0ZShrZXkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgIHJlc29sdmUocmVzKVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgfSlcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcblxuICAgIH0pO1xuICB9O1xuXG4gIGxldCBsaXN0T2JqZWN0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBnZXRPc3MoKS50aGVuKGZ1bmN0aW9uIChvc3MpIHtcbiAgICAgICAgb3NzLmxpc3Qoe1xuICAgICAgICAgICdwcmVmaXgnOiBrZXksXG4gICAgICAgICAgJ21heC1rZXlzJzogMTAwMFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgICAgfSlcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBsZXQgZ2V0U2lnbmVkVXJsID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBnZXRPc3MoKS50aGVuKGZ1bmN0aW9uIChvc3MpIHtcbiAgICAgICAgcmVzb2x2ZShvc3Muc2lnbmF0dXJlVXJsKGtleSwge2V4cGlyZXM6IDM2MDB9KSk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IHB1dE9iamVjdCA9IGZ1bmN0aW9uIChrZXksIGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZ2V0T3NzKCkudGhlbihmdW5jdGlvbiAob3NzKSB7XG4gICAgICAgIG9zcy5wdXQoa2V5LCBkYXRhKVxuICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IGdldE9iamVjdDIgPSBmdW5jdGlvbiAoa2V5LCBpc0JpbmFyeSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZW1vdGVTZXJ2aWNlLnBvc3Qob3B0aW9ucy50b2tlblNlcnZlciArICcvb3NzL29iamVjdC9nZXQnLCB7XG4gICAgICAgIEtleToga2V5XG4gICAgICB9LCAnYXBwbGljYXRpb24vanNvbicsICdqc29uJylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICByZW1vdGVTZXJ2aWNlLmdldChyZXMuZGF0YSwgaXNCaW5hcnkgPyAnYXJyYXlCdWZmZXInIDogJ3RleHQnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNCaW5hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgVWludDhBcnJheShyKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJlc29sdmUocik7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IGRlbGV0ZU9iamVjdDIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlbW90ZVNlcnZpY2UucG9zdChvcHRpb25zLnRva2VuU2VydmVyICsgJy9vc3Mvb2JqZWN0L2RlbGV0ZScsIHtcbiAgICAgICAgS2V5OiBrZXlcbiAgICAgIH0sICdhcHBsaWNhdGlvbi9qc29uJywgJ2pzb24nKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIHJlbW90ZVNlcnZpY2UuZGVsZXRlKHJlcy5kYXRhLCAndGV4dCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUocik7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IGxpc3RPYmplY3QyID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZW1vdGVTZXJ2aWNlLnBvc3Qob3B0aW9ucy50b2tlblNlcnZlciArICcvb3NzL29iamVjdC9saXN0Jywge1xuICAgICAgICBLZXk6IGtleVxuICAgICAgfSwgJ2FwcGxpY2F0aW9uL2pzb24nLCAnanNvbicpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IGhlYWRPYmplY3QyID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZW1vdGVTZXJ2aWNlLnBvc3Qob3B0aW9ucy50b2tlblNlcnZlciArICcvb3NzL29iamVjdC9oZWFkJywge1xuICAgICAgICBLZXk6IGtleVxuICAgICAgfSwgJ2FwcGxpY2F0aW9uL2pzb24nLCAnanNvbicpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgcmVzLk5leHRBcHBlbmRQb3NpdGlvbiA9IHJlcy5Db250ZW50TGVuZ3RoO1xuICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGxldCBnZXRTaWduZWRVcmwyID0gZnVuY3Rpb24gKGtleSwgaXNCaW5hcnkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVtb3RlU2VydmljZS5wb3N0KG9wdGlvbnMudG9rZW5TZXJ2ZXIgKyAnL29zcy9vYmplY3QvZ2V0Jywge1xuICAgICAgICBLZXk6IGtleVxuICAgICAgfSwgJ2FwcGxpY2F0aW9uL2pzb24nLCAnanNvbicpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IHB1dE9iamVjdDIgPSBmdW5jdGlvbiAoa2V5LCBib2R5KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlbW90ZVNlcnZpY2UucG9zdChvcHRpb25zLnRva2VuU2VydmVyICsgJy9vc3Mvb2JqZWN0L3B1dCcsIHtcbiAgICAgICAgS2V5OiBrZXksXG4gICAgICAgIEV4cGlyZXM6IDAsXG4gICAgICAgIENhY2hlQ29udHJvbDogJ25vLWNhY2hlLCBtdXN0LXJldmFsaWRhdGUnXG4gICAgICB9LCAnYXBwbGljYXRpb24vanNvbicsICdqc29uJylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBpZiAoIXJlcy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHJlamVjdChyZXMpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzLmRhdGEpIHtcbiAgICAgICAgICAgICAgcmVtb3RlU2VydmljZS5wdXQocmVzLmRhdGEsIGJvZHkpXG4gICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IHVwbG9hZDIgPSBmdW5jdGlvbiAoZmlsZSwga2V5LCBvbnByb2dyZXNzLCBvbmVycm9yLCBvbmNvbXBsZXRlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlbW90ZVNlcnZpY2UucG9zdChvcHRpb25zLnRva2VuU2VydmVyICsgJy9vc3Mvb2JqZWN0L3B1dCcsIHtcbiAgICAgICAgS2V5OiBrZXlcbiAgICAgIH0sICdhcHBsaWNhdGlvbi9qc29uJywgJ2pzb24nKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICBvbmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb25lcnJvcih4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB4aHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgb25wcm9ncmVzcyhldnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5vcGVuKCdQVVQnLCByZXMuZGF0YSwgdHJ1ZSk7XG4gICAgICAgICAgICB4aHIuc2VuZChmaWxlKTtcblxuICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGxldCBzID0ge1xuICAgIGdldE9zczogZ2V0T3NzLFxuICAgIHVwbG9hZDogdXBsb2FkLFxuICAgIGdldE9iamVjdDogZ2V0T2JqZWN0LFxuICAgIHB1dE9iamVjdDogcHV0T2JqZWN0LFxuICAgIGRlbGV0ZU9iamVjdDogZGVsZXRlT2JqZWN0LFxuICAgIGxpc3RPYmplY3Q6IGxpc3RPYmplY3QyLFxuICAgIGdldFNpZ25lZFVybDogZ2V0U2lnbmVkVXJsXG4gIH07XG4gIGlmIChvcHRpb25zLnR5cGUgIT09ICdvc3MnKSB7XG4gICAgcy5nZXRPYmplY3QgPSBnZXRPYmplY3QyO1xuICAgIHMucHV0T2JqZWN0ID0gcHV0T2JqZWN0MjtcbiAgICBzLmhlYWRPYmplY3QgPSBoZWFkT2JqZWN0MjtcbiAgICBzLnVwbG9hZCA9IHVwbG9hZDI7XG4gICAgcy5kZWxldGVPYmplY3QgPSBkZWxldGVPYmplY3QyO1xuICAgIHMubGlzdE9iamVjdCA9IGxpc3RPYmplY3QyO1xuICAgIHMuZ2V0U2lnbmVkVXJsID0gZ2V0U2lnbmVkVXJsMjtcbiAgfVxuXG4gIHJldHVybiBzO1xufTtcbiIsImltcG9ydCBzb2NrZXQgZnJvbSAnLi9zb2NrZXQnO1xuaW1wb3J0IG9zc1NlcnZpY2UgZnJvbSAnLi9vc3Mvb3NzU2VydmljZSdcblxuLypcbm9wdHMgPSB7XG4gIHVybDogJycsXG4gIHBhdGg6ICcvdWknLFxuICBkYXNoYm9hcmRQbHVnaW5zOiB0cnVlfGZhbHNlLFxuICBvbkNvbm5lY3Q6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICBjb25zb2xlLmxvZyhhLGIsXCI9PT09PT0yMjIyPT09PT1cIilcbiAgfSxcbiAgb25EaXNjb25uZWN0OmZ1bmN0aW9uKGEsIGIpIHtcbiAgICBjb25zb2xlLmxvZyhhLGIsXCI9PT09PTExMT09PT09PVwiKVxuICB9LFxuICBvc3M6IHtcbiAgICB0eXBlOiAnb3NzfG1pbmlvJyxcbiAgICB0b2tlblBhdGg6ICcvb3NzL3Rva2VuJyxcbiAgfVxufVxuKi9cblxud2luZG93LnNwID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgbGV0IHMgPSB7fTtcbiAgaWYgKG9wdHMucGF0aCkge1xuICAgIHMgPSBzb2NrZXQob3B0cyk7XG4gIH1cbiAgaWYgKG9wdHMub3NzKSB7XG4gICAgcy5vc3MgPSBvc3NTZXJ2aWNlKG9wdHMub3NzKTtcbiAgfVxuICByZXR1cm4gcztcbn07XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUxBO0FBUUE7QUFDQTs7QUMxSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuZ0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFOQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUxBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFOQTtBQVNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hIQTtBQUVBOzs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBakJBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7Ozs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUNqWkE7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n")}})}));